{"time":"2025-08-10T22:41:26.131160457+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders","file":"/home/melony/Downloads/crush/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/home/melony/.local/share/crush/providers.json"}
{"time":"2025-08-10T22:41:26.133030581+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders.func1","file":"/home/melony/Downloads/crush/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-10T22:41:26.133090042+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/config.(*Config).configureProviders-range1","file":"/home/melony/Downloads/crush/internal/config/load.go","line":270},"msg":"Provider is missing API key, this might be OK for local providers","provider":"ollama"}
{"time":"2025-08-10T22:41:26.133278107+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/config.(*Config).configureProviders-range1","file":"/home/melony/Downloads/crush/internal/config/load.go","line":290},"msg":"Provider is missing API key, this might be OK for local providers","provider":"ollama"}
{"time":"2025-08-10T22:41:26.397079892+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.saveProvidersInCache","file":"/home/melony/Downloads/crush/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/home/melony/.local/share/crush/providers.json"}
{"time":"2025-08-10T22:41:27.138276066+03:00","level":"INFO","msg":"OK   20250424200609_initial.sql (2.53ms)"}
{"time":"2025-08-10T22:41:27.13911748+03:00","level":"INFO","msg":"OK   20250515105448_add_summary_message_id.sql (779.71µs)"}
{"time":"2025-08-10T22:41:27.139999624+03:00","level":"INFO","msg":"OK   20250624000000_add_created_at_indexes.sql (831.16µs)"}
{"time":"2025-08-10T22:41:27.140777187+03:00","level":"INFO","msg":"OK   20250627000000_add_provider_to_messages.sql (736.25µs)"}
{"time":"2025-08-10T22:41:27.140811251+03:00","level":"INFO","msg":"goose: successfully migrated database to version: 20250627000000"}
{"time":"2025-08-10T22:41:27.14087842+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).initLSPClients","file":"/home/melony/Downloads/crush/internal/app/lsp.go","line":18},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-10T22:41:27.188777576+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-10T22:41:27.188979586+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-10T22:41:27.232377271+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-10T22:41:27.232496177+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-10T22:41:30.958816668+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-10T22:41:30.959026224+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-10T22:41:31.003703889+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-10T22:41:31.00380702+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-10T22:56:27.539272968+03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processGeneration.func1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":373},"msg":"failed to generate title","error":"POST \"https://openrouter.ai/api/v1/chat/completions\": 402 Payment Required {\"message\":\"Insufficient credits. Add more using https://openrouter.ai/settings/credits\",\"code\":402}"}
{"time":"2025-08-10T22:56:31.031195099+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Provider returned error","type":""}
{"time":"2025-08-10T22:56:31.031376119+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-10T22:56:44.030942787+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_1fc5cf3e757c4f82a81d4c69","name":"agent","input":"","type":"","finished":false}}
{"time":"2025-08-10T22:56:44.630911878+03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processGeneration.func1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":373},"msg":"failed to generate title","error":"POST \"https://openrouter.ai/api/v1/chat/completions\": 402 Payment Required {\"message\":\"Insufficient credits. Add more using https://openrouter.ai/settings/credits\",\"code\":402}"}
{"time":"2025-08-10T22:56:48.875284521+03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_20e578a67679498dac71c37c","name":"ls","input":"","type":"","finished":false}}
{"time":"2025-08-10T22:58:30.743906887+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T22:58:30.744136182+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-10T22:58:36.201916765+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T22:58:36.20205311+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-10T22:58:44.05483853+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T22:58:44.055067679+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-10T22:58:56.595989641+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T22:58:56.596161401+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-10T22:59:18.676161254+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T22:59:18.676392942+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-10T23:00:00.017723562+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T23:00:00.017972685+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-10T23:01:19.843662757+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T23:01:19.84384958+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-10T23:03:56.199453847+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-10T23:03:56.199716763+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-10T23:09:06.431842103+03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/melony/Downloads/crush/internal/llm/agent/agent.go","line":347},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
{"time":"2025-08-11T00:48:08.084398782+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).convertMessages","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":169},"msg":"There is a message without content, investigate, this should not happen"}
{"time":"2025-08-11T00:48:10.890811385+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:48:10.891431107+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-11T00:48:15.93941579+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:48:15.939565947+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-11T00:48:23.176194119+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:48:23.176363968+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-11T00:48:35.157815713+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:48:35.157993623+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-11T00:48:57.027397308+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:48:57.027845827+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-11T00:49:38.185563817+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:49:38.185758578+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-11T00:50:57.704447101+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:50:57.704630094+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-11T00:53:33.911210053+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":518},"msg":"OpenAI API error","status_code":429,"message":"Rate limit exceeded: free-models-per-day. Add 10 credits to unlock 1000 free model requests per day","type":""}
{"time":"2025-08-11T00:53:33.911416241+03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/melony/Downloads/crush/internal/llm/provider/openai.go","line":467},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
